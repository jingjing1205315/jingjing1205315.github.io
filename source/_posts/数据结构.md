---
title: 数据结构
date: 2022-02-14 17:53:07
tags:
---
栈、队列、双端队列、
<!-- more -->

# 栈
先进后出
## 应用
函数执行、历史记录回退
## 实现
### 基于数组

```
class Stack{
    construstor(){
        this.items = [];
    }
    push(item){
        this.items.push(item);
    }
    pop(){
        return this.items.pop();
    }
    peek(){
        return this.items[this.items.length - 1];
    }
    size(){
        return this.items.length;
    }
    isEmpty(){
        return this.items.length === 0;
    }
    clear(){
        this.items = [];
    }
}
```
两个问题： 1、实例的items不是私有变量，可以随意修改。
2、基于数组创建的stack类，方法的实现都是对数组的循环。

对于问题2，可以基于对象来实现stack。
### 基于对象

```
class Stack{
    construstor(){
        this.items = {};
        this.count = 0;
        this.last = 0;
    }
    push(item){
        this.items[count](item);
        this.count++;
    }
    pop(){
        if(this.isEmpt())) return;
        this.count--;
        const result = this.items[this.count];
        del this.items[this.count];
        return result
    }
    peek(){
        if(this.isEmpt())) return;
        return this.items[this.count - 1];
    }
    size(){
        return this.count;
    }
    isEmpty(){
        return this.count === 0;
    }
    clear(){
        this.items = {};
        this.count = 0
    }
    toString(){
        if(this.isEmpt())) return '';
        let result = this.items[0];
        return Object.values(this.items).reduce((result,item) => {
            result = `${result},${item}`
        }, '')
    }
}
```

由于原型类没有私有属性，基于对象与基于数组创建的stack都有同样的问题，对于问题1，可以尝试用Weak Map来实现

### 基于WeakMap

```
const items = new WeakMap();
class Stack{
    constructor(){
        items.set(this, []);
    }
    push(item){
        const s = items.get(this);
        s.push(item);
    }
    pop(){
        const s = items.get(this);
        return s.pop();
    }
    peek(){
        const s = items.get(this);
        return s[s.length - 1];
    }
    size(){
        const s = items.get(this);
        return s.length;
    }
    isEmpty(){
        const s = items.get(this);
        return s.length === 0;
    }
    clear(){
        items.set(this, []);
    }
    toString(){
        const s = items.get(this);
        return s.toString();
    }
}
```

## 可以解决的问题
### 十进制转二进制

```

let num = 10;
function decimalToBinary(num){
    let stack = new Stack();
    while(num > 0){
        stack.push(num % 2);
        num = Math.floor(num / 2);
    }
    // stack 0,1,0,1
    let binaryString = '';
    while(!stack.isEmpty()){
        binaryString = `${result}${stack.pop()}`;
    }
    return binaryString
}
```

### 进制转换算法
36进制 待补充
1-9a-z