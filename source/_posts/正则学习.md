---
title: 正则学习
date: 2021-04-12 19:29:02
tags:
---
<!--more-->

### | 分割多个匹配的字段
```
let str ="transform('1.25 发布')"
let replaceStr= str.replace(/(^transform\([\'\"]*)|=g|=|([\"\']*\)$)/g, (a) => {
const info = {
  "transform('": '',
  "')": '',
  '=': '</g>',
  '=g': '<g>',
};
 
return info[a]

})
```


### 原型继承，正则匹配替换、遍历获取json中的键和值

```
String.prototype.render = function(arr){
	var replaceKey = [];
	var str = [];

	for(var key in arr){
   		replaceKey.push(key);
    	str.push(arr[key]);
	}

	var format = this;

	for(var i=0; i<replaceKey.length;i++){
    	var reg = new RegExp("\\${" +replaceKey[i]+ "}", "g");
    	format = format.replace(reg,str[i]);
    	console.log(format);
	}
	return format;
}

var greeting = 'my name is ${name}, age ${age}';
var result = greeting.render({'name':'jack','age':16});
// my name is jack, age ${age}
// my name is jack, age 16
```
**平时写正则是/\$\{name\}/就好，但是在new RegExp()不行，因为它的第一个参数是字符串，\在字符串中需要转义为\，所以需要双重转义符\\.**

### 校验手机号
### 校验邮箱

```
^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$
```

**\w匹配的仅仅是中文，数字，字母和_**
**匹配中文字符的正则表达式：**

```
[\u4e00-\u9fa5]
```
**匹配双字节字符(包括汉字在内)：**

```
[^\x00-\xff]
```
**匹配中文，英文字母和数字及_:^[\u4e00-\u9fa5_a-zA-Z0-9]+$**

1、一个正则表达式，只含有汉字、数字、字母、下划线不能以下划线开头和结尾：

```
^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$
```


