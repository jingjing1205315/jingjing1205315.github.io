---
title: '网页性能优化'
date: 2021-03-01 09:42:28
tags:
---

### 最大化利用浏览器并行请求数对首屏拆包，用webpack-bundle-analyzer分析哪些可拆

以chrome为例：同域名下最大并行请求数为6个。


### 首屏组件及任何负组件都应为同步加载


### 放在head中的js文件比body中的js文件加载优先级高

### 预加载

prefetch 预加载其它页面所需的资源

```
import(
  `./utilities/divide`
  /* webpackPrefetch: true */
  /* webpackChunkName: "utilities" */
)
```
以上的导入会让<link rel="prefetch" as="script" href="utilities.js">被添加至页面的头部。因此浏览器会在空闲时间预先拉取该文件。


异步chunk会和父级chunk并行加载(webpack4.46并未实验成功)
```
/* webpackPreload: true */
```

参考：[Webpack 4教程 - 第八部分 使用prefetch和preload进行动态加载](https://www.cnblogs.com/powertoolsteam/p/10873677.html)



